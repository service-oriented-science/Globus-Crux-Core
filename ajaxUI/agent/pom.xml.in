<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">

	<modelVersion>4.0.0</modelVersion>
	
	<groupId>org.cyberaide.ws</groupId>
	<artifactId>agent</artifactId>
	<packaging>war</packaging>
	<version>1.0-SNAPSHOT</version>
	<name>agent</name>
	<url>http://maven.apache.org</url>
	
	<repositories>
	  <repository>
		    <id>grid.rit</id>
		    <url>http://grid.rit.edu/cyberaide/</url>
		</repository>
		<!-- for jaxws from sun -->
		<repository>
		    <id>java.net</id>
		    <url>http://download.java.net/maven/2/</url>
		</repository>
	  <repository>
		    <id>maven2</id>
		    <url>http://repo1.maven.org/maven2/</url>
		</repository>
		<repository>
		    <id>jboss</id>
		    <url>http://repository.jboss.com/maven2/</url>
		</repository>
		<repository>
		    <id>ibiblio</id>
		    <url>http://mirrors.ibiblio.org/pub/mirrors/maven2/</url>
		</repository>
		
	</repositories>
	<properties>
		<cxf.version>2.1</cxf.version>
		<basedir>.</basedir>
	</properties>
	<dependencies>
		<dependency>
			<groupId>org.apache.cxf</groupId>
			<artifactId>cxf-rt-core</artifactId>
			<version>${cxf.version}</version>
		</dependency>
		<dependency>
			<groupId>org.apache.cxf</groupId>
			<artifactId>cxf-rt-frontend-simple</artifactId>
			<version>${cxf.version}</version>
		</dependency>
		<dependency>
			<groupId>org.apache.cxf</groupId>
			<artifactId>cxf-rt-frontend-jaxws</artifactId>
			<version>${cxf.version}</version>
		</dependency>
		<dependency>
			<groupId>org.apache.cxf</groupId>
			<artifactId>cxf-rt-databinding-aegis</artifactId>
			<version>${cxf.version}</version>
		</dependency>
		<dependency>
			<groupId>org.apache.cxf</groupId>
			<artifactId>cxf-rt-transports-local</artifactId>
			<version>${cxf.version}</version>
		</dependency>
		<dependency>
			<groupId>org.apache.cxf</groupId>
			<artifactId>cxf-rt-transports-http</artifactId>
			<version>${cxf.version}</version>
		</dependency>
		<dependency>
			<groupId>org.apache.cxf</groupId>
			<artifactId>cxf-rt-transports-http-jetty</artifactId>
			<version>${cxf.version}</version>
		</dependency>
		<dependency>
			<groupId>org.apache.cxf</groupId>
			<artifactId>cxf-rt-transports-jms</artifactId>
			<version>${cxf.version}</version>
		</dependency>
		<dependency>
			<groupId>org.apache.cxf</groupId>
			<artifactId>cxf-rt-management</artifactId>
			<version>${cxf.version}</version>
		</dependency>
		<dependency>
			<groupId>org.apache.cxf</groupId>
			<artifactId>cxf-common-utilities</artifactId>
			<version>${cxf.version}</version>
		</dependency>
		<dependency>
       		<groupId>org.apache.cxf</groupId>
       		<artifactId>cxf-rt-ws-security</artifactId>
       		<version>${cxf.version}</version>
       		<scope></scope>
    	</dependency>
		<dependency>
			<groupId>org.mortbay.jetty</groupId>
			<artifactId>jetty</artifactId>
			<version>6.1.6</version>
		</dependency>
		<dependency>
			<groupId>junit</groupId>
			<artifactId>junit</artifactId>
			<version>3.8.2</version>
			<scope>test</scope>
		</dependency>
		<!--dependency>
			<groupId>xfire</groupId>
			<artifactId>wss4j</artifactId>
			<version>1.1</version>
		</dependency-->
		<dependency>
			<groupId>org.apache</groupId>
			<artifactId>xmlsec</artifactId>
			<version>1.4.1</version>
		</dependency>

		<dependency>
			<groupId>xalan</groupId>
			<artifactId>xalan</artifactId>
			<version>2.7.0</version>
		</dependency>
		
		<!--dependency>
			<groupId>apache-xerces</groupId>
			<artifactId>xercesImpl</artifactId>
			<version>2.9.0</version>
		</dependency-->
		
		<dependency>
			<groupId>log4j</groupId>
			<artifactId>log4j</artifactId>
			<version>1.2.4</version>
		</dependency>
		
		<dependency>  
			<groupId>org.slf4j</groupId> 
			<artifactId>slf4j-api</artifactId>  
			<version>1.5.2</version>
			<scope>runtime</scope>
		</dependency>

		<dependency>
		  <groupId>javax.annotation</groupId>
		  <artifactId>jsr250-api</artifactId>
		  <version>1.0</version>
		</dependency>
		
		<dependency>
		  <groupId>javax.jws</groupId>
		  <artifactId>jsr181-api</artifactId>
		  <version>1.0-MR1</version>
		  <scope>compile</scope>
		</dependency>
		<!--dependency>
		  <groupId>sun-jaxws</groupId>
		  <artifactId>jsr181-api</artifactId>
		  <version>1.0</version>
		</dependency-->
		
		<dependency>
		  <groupId>javax.xml.bind</groupId>
		  <artifactId>jaxb-api</artifactId>
		  <version>2.1</version>
		  <scope>compile</scope>
		</dependency>
		
		<dependency>
		  <groupId>javax.xml.soap</groupId>
		  <artifactId>saaj-api</artifactId>
		  <version>1.3</version>
		  <scope>compile</scope>
		</dependency>
		
		<dependency>
		  <groupId>javax.xml.ws</groupId>
		  <artifactId>jaxws-api</artifactId>
		  <version>2.1</version>
		  <scope>compile</scope>
		</dependency>
		
		<dependency>
		  <groupId>log4j</groupId>
		  <artifactId>log4j</artifactId>
		  <version>1.2.4</version>
		  <scope>compile</scope>
		</dependency>
		
		<dependency>
		  <groupId>xfire</groupId>
		  <artifactId>opensaml</artifactId>
		  <version>1.0.1</version>
		</dependency>
		
		<dependency>
		  <groupId>bouncycastle</groupId>
		  <artifactId>bcprov-jdk16</artifactId>
		  <version>140</version>
		</dependency>

		<dependency> 
		  <groupId>org.apache.activemq</groupId> 
		  <artifactId>activemq-core</artifactId> 
		  <version>5.2.0</version> 
		</dependency>

		<dependency> 
		  <groupId>org.apache.activemq</groupId> 
		  <artifactId>activemq-web</artifactId> 
		  <version>5.2.0</version> 
		</dependency>
			
	</dependencies>
	
	<build>
	    <finalName>agent</finalName>
		<plugins>
		
		<plugin><!--use mvn tomcat:deploy or mvn tomcat:undeploy -->
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>tomcat-maven-plugin</artifactId>
            <configuration>
               <server>tomcat6.0</server>
               <!--url>Place URL if different from http://localhost:8080/manager</url-->
            </configuration>
         </plugin>
         
         <!-- Below plugin provides a separate JAR for the JAX-WS artifacts (i.e.,  
            the Java classes created by running wsdl2java or wsimport), as this JAR
            will also be used by the SOAP client.
         -->
         <!--plugin>
            <artifactId>maven-assembly-plugin</artifactId>
            <version>2.2-beta-1</version>
            <configuration>
               <descriptors>
                  <descriptor>src/assembly/jaxwsjar.xml</descriptor>
               </descriptors>

               <appendAssemblyId>true</appendAssemblyId>
               <attach>true</attach>
            </configuration>
            <executions>
               <execution>
                  <id>make-assembly</id>
                  <phase>package</phase>
                  <goals>
                     <goal>single</goal>
                  </goals>
               </execution>
            </executions>
         </plugin-->
		
			<plugin>
				<artifactId>maven-compiler-plugin</artifactId>
				<configuration>
					<source>1.6</source>
					<target>1.6</target>
				</configuration>
			</plugin>

			<!--plugin>
				<groupId>org.apache.axis2</groupId>
      			<artifactId>axis2-aar-maven-plugin</artifactId>
      			<version>1.4.1</version>
				<configuration>

					<fileSets>
						<fileSet>
						  <directory>src/main/resources</directory>
						  <includes>
							<include>**/*</include>
						  </includes>
						</fileSet>
					</fileSets>
					<servicesXmlFile>${basedir}/src/main/wsdl/services.xml</servicesXmlFile>
				</configuration>
			</plugin-->
			      	
		   	<plugin>
		      	<groupId>org.apache.cxf</groupId>
		      	<artifactId>cxf-codegen-plugin</artifactId>
		      	<version>2.1</version>
		      	<executions>
		      		<execution>
		      			<id>generate-sources</id>
		      			<phase>generate-sources</phase>
		      			<configuration>
		      				<sourceRoot>${basedir}/target/generated/src/main/java</sourceRoot>
		      				<wsdlOptions>
		      					<wsdlOption>
									<wsdl>SERVERADDRESS/mediator?wsdl</wsdl>
		      					</wsdlOption>
		      				</wsdlOptions>
		      			</configuration>
		      			<goals>
		      				<goal>wsdl2java</goal>
		      			</goals>
		      		</execution>
		      	</executions>
			</plugin>
      		
      		<plugin>
			  	<groupId>org.apache.cxf</groupId>
			  	<artifactId>cxf-java2ws-plugin</artifactId>
			  	<version>2.1</version>
			  	<dependencies>
			  		<dependency>
			  			<groupId>org.apache.cxf</groupId>
			  			<artifactId>cxf-rt-frontend-jaxws</artifactId>
			  			<version>2.1</version>
			  		</dependency>
			  		<dependency>
			  			<groupId>org.apache.cxf</groupId>
			  			<artifactId>cxf-rt-frontend-simple</artifactId>
			  			<version>2.1</version>
			  		</dependency>
			  	</dependencies>

			  	<executions>
			  		<execution>
			  			<id>generate-wsdl</id>
			  			<phase>process-classes</phase>
			  			<configuration>
			  				<className>org.cyberaide.ws.agent.Agent</className>
			  				<outputFile>${basedir}/src/main/webapp/WEB-INF/wsdl/agent.wsdl</outputFile>
			  				<genWsdl>true</genWsdl>
			  			</configuration>
			  			<goals>
			  				<goal>java2ws</goal>
			  			</goals>
			  		</execution>
			  	</executions>
			  </plugin>
      
		</plugins>
	</build>
</project>
